/* eslint-disable import/prefer-default-export */
import { factory, nullable, primaryKey, oneOf, manyOf } from "@mswjs/data";
import { faker } from "@faker-js/faker";

export default factory({
  user: {
    id: primaryKey(faker.string.uuid),
    username: String,
    email: nullable(String),
    password: String,
    accountLevel: Number,
    createdAt: () => new Date().toISOString(),
    updatedAt: nullable(Date),
    lastSeenAt: nullable(Date),
    status: "Online",
    profile: oneOf("profile"),
  },
  profile: {
    id: primaryKey(faker.string.uuid),
    displayName: nullable(String),
    aboutMe: nullable(String),
    createdAt: () => new Date().toISOString(),
    updatedAt: nullable(Date),
    avatar: null,
    backgroundAvatar: null,
    user: oneOf("user"),
  },
  chat: {
    id: primaryKey(faker.string.uuid),
    name: nullable(String),
    avatar: null,
    isPrivate: Boolean,
    type: String,
    owner: nullable(oneOf("user")),
    members: manyOf("userOnChat"),
    createdAt: () => new Date().toISOString(),
    updatedAt: nullable(Date),
    chatRoleCounter: nullable(Number),
  },
  role: {
    id: primaryKey(faker.string.uuid),
    name: String,
    roleLevel: Number,
    isDefaultRole: Boolean,
    chat: oneOf("chat"),
    members: manyOf("userOnChat"),
    permissions: manyOf("permission"),
    createdAt: () => new Date().toISOString(),
    updatedAt: nullable(Date),
  },
  permission: {
    id: primaryKey(faker.string.uuid),
    name: String,
    members: manyOf("userOnChat"),
    roles: manyOf("role"),
    createdAt: () => new Date().toISOString(),
    updatedAt: nullable(Date),
  },
  userOnChat: {
    id: primaryKey(faker.string.uuid),
    user: oneOf("user"),
    chat: oneOf("chat"),
    roles: manyOf("role"),
    joinedAt: () => new Date().toISOString(),
    mutedUntil: nullable(new Date().toDateString(), { defaultsToNull: true }),
  },
});
